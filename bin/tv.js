!function e(t,n,o){function i(s,u){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!u&&l)return l(s,!0);if(r)return r(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){!function(e){var n=/iPhone/i,o=/iPod/i,i=/iPad/i,r=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,s=/Android/i,u=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,l=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,f=/Windows Phone/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,a=/BlackBerry/i,d=/BB10/i,w=/Opera Mini/i,p=/(CriOS|Chrome)(?=.*\bMobile\b)/i,y=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,m=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),v=function(e,t){return e.test(t)},h=function(e){var t=e||navigator.userAgent,h=t.split("[FBAN");if("undefined"!=typeof h[1]&&(t=h[0]),h=t.split("Twitter"),"undefined"!=typeof h[1]&&(t=h[0]),this.apple={phone:v(n,t),ipod:v(o,t),tablet:!v(n,t)&&v(i,t),device:v(n,t)||v(o,t)||v(i,t)},this.amazon={phone:v(u,t),tablet:!v(u,t)&&v(l,t),device:v(u,t)||v(l,t)},this.android={phone:v(u,t)||v(r,t),tablet:!v(u,t)&&!v(r,t)&&(v(l,t)||v(s,t)),device:v(u,t)||v(l,t)||v(r,t)||v(s,t)},this.windows={phone:v(f,t),tablet:v(c,t),device:v(f,t)||v(c,t)},this.other={blackberry:v(a,t),blackberry10:v(d,t),opera:v(w,t),firefox:v(y,t),chrome:v(p,t),device:v(a,t)||v(d,t)||v(w,t)||v(y,t)||v(p,t)},this.seven_inch=v(m,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},b=function(){var e=new h;return e.Class=h,e};"undefined"!=typeof t&&t.exports&&"undefined"==typeof window?t.exports=h:"undefined"!=typeof t&&t.exports&&"undefined"!=typeof window?t.exports=b():"function"==typeof define&&define.amd?define("isMobile",[],e.isMobile=b()):e.isMobile=b()}(this)},{}],2:[function(e,t,n){var o;o={playlists:["PLy_pe5XDDZ1IyDxrlXRuz-Qz4gBft5cmt","PLy_pe5XDDZ1LrigQrKoQMKAKqtcxlnjEr"],key:"AIzaSyA8Wb8ZkXnc9XfcRDLON3gF0Vn7NkiQEWw",fastPlay:250,volumeStep:5,volumeGamepadStep:2.5,doubleClickInterval:175,gamepadVolumeInterval:125,logoText:"UP TV",iOSLogoText:"НАЖМИ НА ЭКРАН",mobileSwipeNextLimit:-200,mobileSwipeLeftMult:.65,mobileSwipeRightMult:.25},t.exports=o},{}],3:[function(e,t,n){var o,i,r;r=e("./ui/ui.coffee"),o=e("./utils/element.coffee"),i=e("ismobilejs"),r(),window.onYouTubeIframeAPIReady=function(){return e("./player/player.coffee")(function(){if(requestAnimationFrame(e("./tick.coffee")),e("./player/loadList.coffee")(),i.apple.device)return o.hide(o.byId("cover")),e("./player/controls/controls.coffee")()})}},{"./player/controls/controls.coffee":4,"./player/loadList.coffee":9,"./player/player.coffee":10,"./tick.coffee":11,"./ui/ui.coffee":15,"./utils/element.coffee":17,ismobilejs:1}],4:[function(e,t,n){var o,i,r,s;r=e("./mouse.coffee"),i=e("./keyboard.coffee"),s=e("./touch.coffee"),o=function(){return r(),i(),s()},t.exports=o},{"./keyboard.coffee":6,"./mouse.coffee":7,"./touch.coffee":8}],5:[function(e,t,n){var o,i,r,s,u,l,f,c,a;s=e("../../config.coffee"),l=e("../player.coffee")(),u=e("../../utils/fullscreen.coffee"),o={A:0,B:1,Y:2,X:3,L1:4,R1:5,L2:6,R2:7,SELECT:8,START:9,L3:10,R3:11,UP:12,DOWN:13,LEFT:14,RIGHT:15,LOGO:16},r=0,i=[],f=function(e){switch(e){case o.A:case o.RIGHT:case o.R1:return l.playNext();case o.B:return l.mute()}},a=function(e,t){var n,o,r;if(r=[],n=0,o=0,i[t])for(;n<i[t].length;)i[t][n]===!0&&e.buttons[n].pressed===!1&&f(n),n++;for(;o<e.buttons.length;)i[t]?i[t][o]=e.buttons[o].pressed:r.push(e.buttons[o].pressed),o++;if(!i[t])return i.push(r)},c=function(){var e,t,n,o,i,u,f,c;for(o=navigator.getGamepads(),n=0,f=[],i=0,u=o.length;i<u;i++)t=o[i],null!==t&&"standard"===t.mapping?(e=l.getVolume(),c=Math.round((t.axes[1]*-100+100)/2),50===c&&(c=Math.round((t.axes[3]*-100+100)/2)),50!==c&&Date.now()-r>s.gamepadVolumeInterval&&(l.setVolume(c),r=Date.now()),t.buttons[12].pressed?l.setVolume(e+s.volumeGamepadStep):t.buttons[13].pressed&&l.setVolume(e-s.volumeGamepadStep),a(t,n),f.push(n++)):f.push(void 0);return f},t.exports=c},{"../../config.coffee":2,"../../utils/fullscreen.coffee":18,"../player.coffee":10}],6:[function(e,t,n){var o,i,r,s;o=e("../../config.coffee"),s=e("../player.coffee")(),i=e("../../utils/fullscreen.coffee"),r=function(){return window.onkeydown=function(e){var t;switch(t=s.getVolume(),e.keyCode){case 38:return s.setVolume(t+o.volumeStep);case 40:return s.setVolume(t-o.volumeStep);case 9:return e.preventDefault()}},window.onkeyup=function(e){switch(e.keyCode){case 32:case 13:case 39:case 9:return s.playNext();case 70:return i["switch"]();case 77:return s.mute();case 27:if(i.isEnabled())return i.exit()}}},t.exports=r},{"../../config.coffee":2,"../../utils/fullscreen.coffee":18,"../player.coffee":10}],7:[function(e,t,n){var o,i,r,s;o=e("../../config.coffee"),s=e("../player.coffee")(),i=e("../../utils/fullscreen.coffee"),r=function(){return window._clicks=0,window.onclick=function(e){if(window._clicks++,1===window._clicks)return setTimeout(function(){return 1===window._clicks?s.playNext():i["switch"](),window._clicks=0},o.doubleClickInterval)},window.onmousewheel=function(e){var t;return t=s.getVolume(),e.wheelDelta>0?s.setVolume(t+o.volumeStep):s.setVolume(t-o.volumeStep)}},t.exports=r},{"../../config.coffee":2,"../../utils/fullscreen.coffee":18,"../player.coffee":10}],8:[function(e,t,n){var o,i,r,s,u,l;o=e("../../config.coffee"),i=e("../../utils/element.coffee"),s=e("../player.coffee")(),r=e("../../utils/fullscreen.coffee"),l=i.byId("video"),u=function(){return window.addEventListener("touchstart",function(e){return window.swipeStartPoint=e.touches[0],l.classList.remove("transition")}),window.addEventListener("touchmove",function(e){return e.preventDefault(),window.swipeCurrentPoint=e.touches[0]}),window.addEventListener("touchend",function(e){return l.classList.add("transition"),window.swipeCurrentPoint.clientX-window.swipeStartPoint.clientX<o.mobileSwipeNextLimit?(l.style.transform="translateX(-100%)",setTimeout(function(){return l.style.transform="translateX(0px)",s.playNext()},350)):l.style.transform="translateX(0px)",window.swipeStartPoint=null,window.swipeCurrentPoint=null})},t.exports=u},{"../../config.coffee":2,"../../utils/element.coffee":17,"../../utils/fullscreen.coffee":18,"../player.coffee":10}],9:[function(e,t,n){var o,i,r,s,u,l,f;e("../utils/array.coffee"),i=e("../config.coffee"),r=e("./controls/controls.coffee"),l=e("./player.coffee")(),f=e("../utils/storage.coffee"),s=e("ismobilejs"),window.videos=[],window.viewed=0,window.viewedVideos=null!=f.get("viewedVideos")?f.get("viewedVideos"):[],o=0,u=function(e){var t,n;return t="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId="+i.playlists[o]+"&key="+i.key,null!=e&&(t+="&pageToken="+e),n=new XMLHttpRequest,n.open("GET",t,!0),n.onload=function(){var t,n,f,c,a;for(a=JSON.parse(this.responseText),c=a.items,t=0,f=c.length;t<f;t++)n=c[t],videos.push(n.snippet.resourceId.videoId);return a.nextPageToken||o!==i.playlists.length-1?(videos.length>=i.fastPlay&&0===window.viewed&&l._loaded&&(videos.shuffle(),r(),s.apple.device?l.playNext(!0):l.playNext()),e=null!=a.nextPageToken?a.nextPageToken:null,null==e&&(o+=1),u(e)):(videos.splice(0,window.viewed),videos.shuffle())},n.send()},t.exports=u},{"../config.coffee":2,"../utils/array.coffee":16,"../utils/storage.coffee":19,"./controls/controls.coffee":4,"./player.coffee":10,ismobilejs:1}],10:[function(e,t,n){var o,i,r,s,u;e("../utils/array.coffee"),u=e("../utils/storage.coffee"),o=e("../utils/element.coffee"),r=e("../ui/logo.coffee"),i=e("ismobilejs"),s={},s._loaded=!1,s.onReady=function(){return s.yt.setSize(window.innerWidth,window.innerHeight),s._loaded=!0},s.onStateChange=function(e){if(e.data===YT.PlayerState.ENDED&&s.playNext(),i.apple.device&&e.data===YT.PlayerState.PLAYING)return o.show(o.byId("cover")),r.iOSReturnText()},s.onError=function(e){return s.playNext()},s.onPlaybackQualityChange=function(){},s.yt=new YT.Player("video",{playerVars:{rel:0,controls:0,showinfo:0,autoplay:i.apple.device?0:1,disablekb:1,iv_load_policy:3,playsinline:1},events:{onReady:s.onReady,onStateChange:s.onStateChange,onError:s.onError,onPlaybackQualityChange:s.onPlaybackQualityChange}}),window.onresize=function(){return s.yt.setSize(window.innerWidth,window.innerHeight)},s.loadById=function(e){return s.yt.loadVideoById(e)},s.play=function(){return s.yt.playVideo()},s.pause=function(){return s.yt.pauseVideo()},s.loadById=function(e){return s.yt.loadVideoById(e)},s.cueById=function(e){return s.yt.cueVideoById(e)},s.playNext=function(e){var t,n,o;return null==e&&(e=!1),t=window.videos,n=window.viewed,o=window.viewedVideos,null!=window.videos[window.viewed]?window.viewedVideos.indexOf(window.videos[window.viewed])===-1?(e?s.cueById(window.videos[window.viewed]):s.loadById(window.videos[window.viewed]),window.viewedVideos.push(window.videos[window.viewed]),u.set("viewedVideos",window.viewedVideos),window.viewed++):(window.viewed++,s.playNext()):(window.videos.shuffle(),window.viewed=0,window.viewedVideos=[],u.set("viewedVideos",window.viewedVideos),s.playNext())},s.getVolume=function(){return s.yt.getVolume()},s.setVolume=function(e){return s.yt.setVolume(e)},s.mute=function(){return s.yt.isMuted()?s.yt.unMute():s.yt.mute()},t.exports=function(e){return e?(s.yt.addEventListener("onReady",function(){return s.yt.setSize(window.innerWidth,window.innerHeight),s._loaded=!0,e()}),s):s}},{"../ui/logo.coffee":13,"../utils/array.coffee":16,"../utils/element.coffee":17,"../utils/storage.coffee":19,ismobilejs:1}],11:[function(e,t,n){var o,i,r,s;i=e("./player/controls/gamepad.coffee"),r=e("./ui/swipeUpdate.coffee"),o=e("./ui/ads.coffee"),s=function(){return o.update(),i(),r(),requestAnimationFrame(s)},t.exports=s},{"./player/controls/gamepad.coffee":5,"./ui/ads.coffee":12,"./ui/swipeUpdate.coffee":14}],12:[function(e,t,n){var o,i,r,s,u,l,f,c;e("../utils/array.coffee"),u=e("../utils/element.coffee"),r=e("../config.coffee"),f=e("ismobilejs"),i=2,c=0,s=null,l="НАЖМИ НА КРАСНУЮ КНОПКУ",o={init:function(){var e,t;return e="./assets/ads.json",t=new XMLHttpRequest,t.open("GET",e,!0),t.onload=function(){var e;if(e=JSON.parse(this.responseText),e.shuffle(),s=u.byId("ads"),s.textContent=e.join(" "),f.apple.device)return i=.25},t.send()},update:function(){return Math.abs(c)>=s.offsetWidth&&(c=window.innerWidth),c-=i,s.style.transform="translateX("+(c-i)+"px)"}},t.exports=o},{"../config.coffee":2,"../utils/array.coffee":16,"../utils/element.coffee":17,ismobilejs:1}],13:[function(e,t,n){var o,i,r,s,u;r=e("../utils/element.coffee"),o=e("../config.coffee"),s=e("ismobilejs"),i=null,u={init:function(){if(i=r.byId("logo"),s.apple.device)return i.textContent=o.iOSLogoText},iOSReturnText:function(){return i.textContent=o.logoText}},t.exports=u},{"../config.coffee":2,"../utils/element.coffee":17,ismobilejs:1}],14:[function(e,t,n){var o,i,r,s,u;o=e("../config.coffee"),i=e("../utils/element.coffee"),u=i.byId("video"),window.swipeStartPoint=null,window.swipeCurrentPoint=null,r=null,s=function(){var e,t,n;if(n=window.swipeStartPoint,e=window.swipeCurrentPoint,n&&e)return t=e.clientX-n.clientX,r=t<0?o.mobileSwipeLeftMult:o.mobileSwipeRightMult,u.style.transform="translateX("+t*r+"px)"},t.exports=s},{"../config.coffee":2,"../utils/element.coffee":17}],15:[function(e,t,n){var o,i,r;o=e("./ads.coffee"),i=e("./logo.coffee"),r=function(){return o.init(),i.init()},t.exports=r},{"./ads.coffee":12,"./logo.coffee":13}],16:[function(e,t,n){Array.prototype.shuffle=function(){var e,t,n,o;for(e=this.length,n=[];e;)t=Math.floor(Math.random()*e),e-=1,o=this[e],this[e]=this[t],n.push(this[t]=o);return n}},{}],17:[function(e,t,n){var o;o={byId:function(e){return document.getElementById(e)},byClass:function(e){return document.getElementsByClassName(e)},byTag:function(e){return document.getElementsByTagName(e)},show:function(e){return e.style.display="block"},hide:function(e){return e.style.display="none"}},t.exports=o},{}],18:[function(e,t,n){var o;o={isEnabled:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},enter:function(){return document.body.requestFullscreen?document.body.requestFullscreen():document.body.msRequestFullscreen?document.body.msRequestFullscreen():document.body.mozRequestFullScreen?document.body.mozRequestFullScreen():document.body.webkitRequestFullscreen?document.body.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):void 0},exit:function(){return document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():void 0},"switch":function(){return o.isEnabled()?o.exit():o.enter()}},t.exports=o},{}],19:[function(e,t,n){var o;o={get:function(e){return JSON.parse(localStorage.getItem(e))},set:function(e,t){return localStorage.setItem(e,JSON.stringify(t))},remove:function(e){return localStorage.removeItem(e)},clear:function(){return localStorage.clear()}},t.exports=o},{}]},{},[3]);